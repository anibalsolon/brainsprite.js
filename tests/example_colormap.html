<!DOCTYPE html>
<html>
<head>
</head>
<body>
  <canvas id="3Dviewer"></canvas>
  <div id="text"></div>

  <script type="text/javascript" src="../assets/brainsprite.js"></script>
  <script type="text/javascript" src="../assets/brainsprite.modules.js"></script>
  <script>

  var brainOverlay = brainsprite({
    canvas: document.getElementById('3Dviewer'),
    initial: { X: 102, Y: 63, Z: 148 },
    interactive: true,
    background: '#000000',
    smooth: true,
    layers: [
      {
        sprite:  './sprite.jpg',
        slices: { Y: 233 , Z: 189 },
      },
      {
        sprite: './basc_cambridge_sc7.png',
        name: 'colormap',
        slices: { Y: 233 , Z: 189 },
        opacity: 0.5,
      },
      {
        module: 'cross',
      },
    ],
    modules: {
      cm: {
        module: brainsprite.modules.colorMap,
        params: {
          layer: 'colormap',
          colors: './basc_cambridge_sc7_cm.png',
          min: 1,
          max: 7,
        },
      },
      cross: {
        module: brainsprite.modules.cross,
      }
    },
  });

  brainOverlay.addEventListener('change', function(e) {
    var el = document.getElementById("text");
    el.innerHTML =
      "Slice coordinates" +
      ": x=" + e.X +
      ", y=" + e.Y +
      ", z=" + e.Z +
      ", v=" + e.cm.value;
  });

  </script>
</body>
</html>
