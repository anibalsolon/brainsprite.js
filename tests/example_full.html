<!DOCTYPE html>
<html>
<head>
  <style>

    html, body {
      margin: 0; padding: 0;
    }

    canvas {
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 40px;
      width: 100%;
      height: calc(100% - 40px);
    }

    #text {
      font-family: Arial, Helvetica, sans-serif;
      position: absolute;
      background: #000000;
      color: #FFFFFF;
      padding: 10px;
      height: 20px;
      left: 0;
      right: 0;
      bottom: 0;
    }

  </style>
</head>
<body>
  <canvas id="3Dviewer"></canvas>
  <div id="text"></div>

  <script type="text/javascript" src="../assets/brainsprite.js"></script>
  <script type="text/javascript" src="../assets/brainsprite.modules.js"></script>
  <script>

  var brainOverlay = brainsprite({
    canvas: document.getElementById('3Dviewer'),
    initial: { X: 102, Y: 63, Z: 148 },
    interactive: true,
    background: '#FFFFFF',
    smooth: true,
    layers: [
      {
        sprite:  './spriteWhite.jpg',
        slices: { Y: 233 , Z: 189 },
      },
      {
        sprite: './dmnSprite.png',
        name: 'colormap',
        slices: { Y: 233 , Z: 189 },
      },
      {
        module: 'cross',
      },
    ],
    modules: {
      cm: {
        module: brainsprite.modules.colorMap,
        params: {
          layer: 'colormap',
          colors: './dmnSprite_cm.png',
          min: 0.2,
          max: 0.66,
        },
      },
      cross: {
        module: brainsprite.modules.cross,
      }
    },
  });

  brainOverlay.addEventListener('change', function(e) {
    var el = document.getElementById("text");
    el.innerHTML =
      "Slice coordinates" +
      ": x: " + e.X +
      ", y: " + e.Y +
      ", z: " + e.Z +
      ", v: " + (e.cm.value || "undef");
  });

  window.addEventListener('resize', function(){
    brainOverlay.resize();
  }, false);

  </script>
</body>
</html>
